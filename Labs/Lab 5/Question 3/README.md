One well-known optimisation for the Quick Sort is to choose the median of the first, middle and last element of the current partition as the pivot.

Implement the above-mentioned optimisation for the Quick Sort for an integer array. Note that this question is the implementation of the pseudocode you were expected to do in the tutorial.